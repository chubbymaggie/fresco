<!-- X-URL: http://master.debian.org/~aaronv/editorial.html -->
<!-- Date: Sat, 16 Jan 1999 05:45:29 GMT -->
<BASE HREF="http://master.debian.org/~aaronv/editorial.html">

<!-- Yes, here is the berlin release 0.0.1 HTML editorial. -->
<HTML>
<HEAD><TITLE> Berlin: a first look </TITLE></HEAD>

<BODY BGCOLOR="EEEEFF">
<IMG SRC="http://www.berlin-consortium.org/berlin-logo.gif">
<BR><BR>
<FONT SIZE="-1">
This is an overview of pre-alpha release 0.0.1 of the berlin display server.
<BR></FONT>
<B>Contents:</B><BR>
<UL>
<LI> <A HREF="#overview">Abstract</A>
<LI> <A HREF="#goals">Current Project Goals</A>
<UL>
 <LI> <A HREF="#interop">Interoperability</A>
 <LI> <A HREF="#modul">Modular, distributed component framework</A>
 <LI> <A HREF="#multi">Multilingual text rendering</A>
 <LI> <A HREF="#config">Extreme user-end configurability</A>
 <LI> <A HREF="#plug">Pluggable behavioral modules</A>
 <LI> <A HREF="#layout">Flexible constraint-based layout</A>
 <LI> <A HREF="#lag">Lag-free interaction</A>
 <LI> <A HREF="#target">Targetability and acceleration</A>
 <LI> <A HREF="#xcompat">X Compatibility</A>
</UL>
<LI> <A HREF="#status">Current Project Status</A>
<LI> <A HREF="#dynamics">Dynamics -- future possibilities</A>
<LI> <A HREF="#disclaimer">Disclaimer</A>
</UL>

<A NAME="overview">
<H2>Berlin: hellspawn, witchcraft, or the redemption of desktop UNIX?</H2>
<H3> Abstract </H3>
<P>
Berlin is a long anticipated project: namely, to provide an alternative
desktop environment to the opensource community at large. The project has
recieved the speculation of many lurkers, the enthusiasm of many advocates,
and the blunt fear of the masses.
</P>
<P>
For as long as anybody can remember, X has been the only UNIX-based desktop
environment. It has served long and well, but some major underlying design
flaws limit its feature expansion; these are fairly diverse and cannot be
solved directly by modifications. 
</P>
<P>
Berlin's developers are aiming for one thing only: to  is to in order that the final product may seamlessly incorporate a
level of power and interoperability every application designer would be
delirious to have at his fingertips.
</P>
<P>
In order to accomplish an ideal environment, many issues must be faced down.
It is imerative that the best solutions to these problems are is implemented
the first time, and not down the road. As history shows, this is never
entirely possible; the needs of the community are fickle. To stay with this
moving target, a
windowing environment should be capable of transparent incorporation of new
features via modular design, easing future improvements.
</P>

<A NAME="goals"></A>
<H3>Current goals of the Berlin project</H3>
<P>
saith coordinator Graydon Hoare:<BR><BR>
<I>
Berlin is designed around 3 major existing standards:
<a href="http://www.unicode.org/">Unicode</a>,
<a href="http://www.opengl.org/">OpenGL</a>, and
<a href="http://www.omg.org/corba/">Corba</a>. It is released under the
<a href="license.html">GNU Library General Public
License</a>, and written entirely by volunteers using
<a href="http://www.linux.org/">GNU/Linux</a>,
<a href="http://www.orl.co.uk/omniORB/">OmniORB</a>,
<a href="http://www.ssec.wisc.edu/~brianp/Mesa.html">Mesa</a> and
<a href="http://egcs.cygnus.com/">Egcs</a> -- all free software.
</p>
<p>
Our long term goal is to produce the most powerful and flexible GUI
possible, and to release it on as many hardware platforms and OSs as
can be found. This effort will span several years, and include
collaboration with numerous other projects.
</I>
</p>

<P> Consider the dynamics of a windowing environment that couples the power of
CORBA, Unicode, and OpenGL. The three of these, if combined properly, could
be characterized as multilingual, interoperable, network transparent, and
extremely flexible; certainly this provides more room for expansion than any
other similar project currently underway.
</P>

<P> Some of the berlin project's prospects are presented here. Most of these go
hand in hand with its foundational standards and the libraries it is built
upon.</P>
<UL>
 <LI> <A HREF="#interop">Interoperability</A>
 <LI> <A HREF="#modul">Modular, distributed component framework</A>
 <LI> <A HREF="#multi">Multilingual text rendering</A>
 <LI> <A HREF="#config">Extreme user-end configurability</A>
 <LI> <A HREF="#plug">Pluggable behavioral modules</A>
 <LI> <A HREF="#layout">Flexible constraint-based layout</A>
 <LI> <A HREF="#lag">Lag-free interaction</A>
 <LI> <A HREF="#target">Targetability and acceleration</A>
 <LI> <A HREF="#xcompat">X Compatibility</A>
</UL>

<A NAME="interop"></A>
<H4> Interoperability </H4>
<P>
CORBA is the world's leading interoperability specification.
"Interoperability" is defined as the ability to make use of code which lives
across a network, is written in a different language, or resides under a
different architecture from the calling process.
</P>
<P>
If properly taken advantage of, this could give rise to a desktop where
components are transparently swappable -- this means to an X programmer that
a program may
use any widget set, and have that selection be runtime-configurable. CORBA
could also allow functionality (custom widgets with locally configurable
look/feel) to be transparently exportable to any machine on any network,
regardless of architecture and language.
</P>
<P> To the shrewd this suggests flexible embedding capability, much beyond
what Microsoft's OLE can boast of -- applications could be swallowed by others
that know nothing of what they are embedding, or a document could embed a
datatype without support libraries for it being available locally.
</P>

<A NAME="modul"></A>
<H4> Modular, distributed component framework</H4>
<P>
Under the current design, Berlin's widgets are completely separate in
implementation from both the client's and the display server's point of view.
</P>
<P>
In the past, widgets which live out-process to clients have been heradled as a
bad idea, making custom constructs difficult to achieve. However, due to
berlin's top-down OO design, creation of new widgets is sped by a maximum of
capability being exported in the terminal's (display server's) IDL interface.
Widgets written in the same language can inherit code from each other, and
widgets of all languages and native environments will inherit a common
interface.
</P>
<P> Some more evident consequenses of this design decision will include
Berlin's ability to swap different widget implementations without clients
caring. As long as they include the specified interface and do what is
assumed by that interface's specification, widgets are swappable in a way
similarly achieved by methods such as polymorphism.
</P>

<A NAME="multi"></A>
<H4> Multilingual text rendering </H4>
<P> Graydon is currently hard at work finishing berlin's Unicode-compliant
text interface and implementation. Basically, what this will mean is that all
berlin applications will have the opportunity to work with wchars, or 'wide
characters' which can represent glyphs from any language around the world.
</P>
<P> Of course, creating applications which know how to entirely cope with the
grammer <B>and</B> diverse glyphs of all languages is still something that is
not possible. However, this will bring the world one step closer to
language-independent communications.
</P>

<A NAME="config"></A>
<H4> Extreme user-end configurability</H4>
<P>
Of course, one thing X boasted of was its ability to accept local
configuration variables, whichever display server it was being drawn on. This
was known as the Xresources database.
</P>
<P>
Berlin has plans for a higher level 'registrar'.
From the official berlin site, <I>"The Registrar is a convenient library to
store data about the operating system and desktop in a logical and standard
manner. Its API structure is modeled after the Windows Registry API and
provides a similar feature set."</I>
</P>
<P>
This is simply another configuration database. It will, in its final stage, be
implemented entirely as a set of flat files in XML; a binary representation
may become an option if the number of local configuration variables rises
beyond numbers in the thousands.
</P>

<A NAME="plug"></A>
<H4> Pluggable behavioral modules</H4>
<P>
As said in the last section, 'a maximum of capability [is] exported in the
terminal's ... interface'. This means that the server must be able to take
such low-level calls as placing pixels, and such high level calls which are
deemed necessary. This may end up including flat squares, 3d boxes, and
everything in between.
</P>
Different categories of functionality which would benefit from modular design
are split into plugins
called 'kits'. Kits define a mapping between an API the server exports and a
particular type of
support library. In english, this means any particular aspect of the server
which is modular may be implemented with any support library (or none at all)
and have the ability to be dynamically loaded at runtime. This way,
configurable behavior can be implemented.
<P>
For example, this allows for the look of modular widgets to be componentized.
A number of high-level constructs that widgets will be expected to
make use of can be defined in the 'drawingKit', such as 'draw3dbox',
'draw3dpolygon', 'draw3dfigure' (ad infinitum) can be implemented via a
pluggable shared object mapping these calls onto the primitiveKit.
</P>
<P> Currently this aspect is not completely specified. The suggestions
presented here are only suggestions, and only partly complete.
</P>

<A NAME="layout"></A>
<H4> Flexible constraint-based layout</H4>
<P> Constraint-based layout is a relatively new concept in computer design.
Basically, a 'constraint' is a region of the screen allocated for drawing by a
particular composite (a grouping of widgets). The composite draws its widgets
on a relative coordinate axis, and the result is mapped into whatever space is
allocated for its constraint.
</P>
<P>
What this means is that every widget, whether it deals in direct pixel
drawing, line drawing, or more high-level calls, can be resized. Other more
complicated effects are capable of being achieved; arbitrary rotations, 3d
skews or twists, can be applied.
</P>
<P>
Each composite holds a stack of matrices which will be applied in order to the
composite. Additionally, if a widget's drawing is completely relative, so also
must be its event coordinates; hence all matrices are applied to subscribed
events as well.
</P>



<A NAME="target"></A>
<H4> Targetability and acceleration</H4>
<P> The berlin project is heavily dependent upon
<A HREF="http://www.ggi-project.org">GGI</A>, a run-time targettable display
and input library. GGI is a well-designed graphics toolkit which is especially
close to UNIX variants, but can walk architecture and environment easily.
</P>
<P> The GGI project's current aims, briefly stated, are:
<UL><LI>to provide a graphics API which is target independent
<LI>to provide an event-handling API which is device independent, and
<LI>to provide a transparent acceleration framework for both 2d and 3d calls.
</UL>

<A NAME="xcompat"></A>
<H4> X Compatibility</H4>
<P>
It is, of course, planned that an Xlib wrapper for warsaw will be
written. At this time, X compatibility is not as high a priority as
specifying the server's interface and internals. For this reason, development
of this aspect needs to be postponed.
</P>

<A NAME="status"></A>
<H3>Current status of the project</H3>
<P>
<IMG SRC="http://www.sonic.net/~vanco/berlin-001-release.gif" ALIGN="right">
What you see here is a screenshot of the maximum capability of Berlin at this
time. Graydon and others have been focusing mostly on
getting fundamental implementation details sorted out correctly on the first
try, so nobody has a heart attack trying to do the whole thing over again.
So, capabilities shown are only those that entirely work at this point.
</P>
<P>
The two entities shown here are quick hacks to take advantage of those
facilities of berlin which are known to work at this time. Implementation of
other functionality is far into development, so it can be
expected to boast of more at the next release.
</P>
<H4> What you are seeing </H4>
<P>
This image is the berlin windowing environment, full with an event handling
subsystem, displaying to a GGI target. The two widgets shown are invoking
OpenGL calls on the terminal via CORBA.
</P>
<P>
The eyes widget is subscribed to mouse pointer movement events, and redraws
itself regularly to make the 'eyes' follow the terminal's mouse pointer.
The clock widget is subscribed to no events; it simply sits in its own loop
that sleeps, reads the time, and renders itself to the terminal. Again, it is
displaying via OpenGL calls over CORBA.
</P>
<P>
What these statements mean, basically, is that berlin does things much
differently than any other windowing system. Drawing interface logic is kept
server-side, whereas in X, all widget logic is in-process. This may seem a
cryptic explanation, but it has the benefit (in its finished form) that all
widgets can display to any server, from any server. This is CORBA's legacy.
Additionally, the terminal can run under any supported GGI target. For more
information on GGI's benefits please see the 
<A HREF="http://www.ggi-project.org">GGI project's page</A>.
</P>

<A NAME="possibilities"></A>
<H3>Dynamics & possibilities</H3>
<P> Needless to say, the possibilities associated with such a system would be
endless. One example of a revolutionary concept being explored under this
environment is our implementation of W3C's DOM (Document Object Model).
</P>
<P>
Under this environment, a document rendering application need only implement
hooks into the widget interfaces -- any arbitrary data format, whatever it may
be, can be embedded within any document which lives on any server, whichever
computer the logic lives on, regardless of either end's architecture and
language, and oblivious to location. All of this would also be subject to
constraints and advanced drawing techniques like antialiasing, transparently
both to the client and to the implementation.
</P><P>
Needless to say, however, this is merely speculation; if there were an
implementation available, berlin would already be a success. Let your
imagination run wild, it's all possible; yet keep in mind that all of these
features depend on a proper foundation.
</P><P>
this is why, although berlin has been fabled for eternity, it has not been
exposed until now. Building upon an incomplete foundation forces complete
recreation, and this is something we would like to avoid. Concrete
demonstrations have been only a step away for a very long time; however, any
undertaken were guaranteed to become obsolete instantly and require
maintenance. This is also something we would like to avoid.
</P><P>
In short, berlin is waiting for its inner workings to firm up -- when they do,
you can expect one of the world's most flexible desktop environments to boom
almost overnight.
</P>

<A NAME="disclaimer"></A>
<H3>Disclaimer - Opensource, GPL, and experimental programs</H3>
<P>
The process of new concepts being rolled into experimental programs is a
necessity in the opensource world. Without the free contribution community
these kinds of projects build, Linux would not be as great as it is today
(2.5% market share, up from miniscule traces a few years ago). These kinds of
products put corporate behemoths such as Adobe and Microsoft in check; they
are essential even to the progress of software standards in the commercial
world.
</P>
<P>
I say this because Berlin is <B>entirely experimental</B>. We (the berlin
consortium) make no statement that <I>everybody</I> will use this product,
that berlin <I>will</I> usurp X. We are simply implementing a solution that we
see to be the Right Way to Do It (tm) where the current solution is lacking.
In order to see that nothing is made obsolete, exploration of necessities
including an Xlib wrapper to Berlin's drawing abstractions is underway.
</P>
<P>
For these reasons, much of what is presented in this editorial has no
implementation as of yet; it is simply a declaration of a starting point and
some examples of possibilities.</P>
<P>
Because of this we are open to new ideas. We encourage people (censoring
brevity) to explore new possibilities, add them to the official agenda, and
implement ideas. The project is not well-defined; some goals listed here may
Show to be impractical and require change. So, do not hold anybody responsible
if any of nothing stated here ever reaches an implementation stage; also do
not dismiss the possibilities presented here as folly, understanding that they
are simply possibilities.
</P>
<P>
For more information on joining the Berlin consortium, please see
<A HREF="http://www.berlin-consortium.org">the Berlin project's homepage</A>.
</P>

</BODY>

